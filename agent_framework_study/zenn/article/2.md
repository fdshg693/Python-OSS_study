# AzureOpenAIChatClientインスタンスの作成

`zenn\article\1.md`で説明した通り、`.env`ファイルから必要な設定を読み込んでAzureOpenAISettingsインスタンスを作成しました。

env_prefixにAZURE_OPENAI_を設定しているため、.envの項目が以下のようにマッピングされます。
親クラスのAFBaseSettingsにて、model_configで「case_sensitive=False」に設定しているため、大文字小文字は区別されません。

AZURE_OPENAI_ENDPOINT => endpoint
AZURE_OPENAI_CHAT_DEPLOYMENT_NAME => chat_deployment_name
AZURE_OPENAI_API_KEY => api_key

「super().__init__」でAzureOpenAIConfigMixinクラスの初期化を行います
この中でendpoint, api_keyなどの必要情報を格納したAsyncAzureOpenAIを作成します。
そして、再度「super().__init__」を呼び、OpenAIBaseクラスの初期化を行います。
ここで、「self.client = client」とclientインスタンスを登録することで、後ほどのAI呼び出しで利用できるようになります。

リソース
- AzureOpenAIChatClientインスタンス
    - .venv\Lib\site-packages\agent_framework\azure\_chat_client.py
- AzureOpenAISettingsインスタンス・AzureOpenAIConfigMixinインスタンス
    - .venv\Lib\site-packages\agent_framework\azure\_shared.py
- .env
    - .env
- OpenAIBaseインスタンス
    - .venv\Lib\site-packages\agent_framework\openai\_shared.py